# 轻量应用服务器购买指南 - 详细选择步骤

## 🎯 根据您的需求，应该这样选择

### 您的需求
- 运行Go后端服务
- 安装PostgreSQL数据库
- 安装Redis缓存
- 完全控制，自己配置

---

## 📋 购买页面选择步骤

### 步骤1：应用创建方式 ✅

**选择：基于操作系统镜像**

**原因**：
- ✅ 我们需要自己安装PostgreSQL，不需要预装的应用模板
- ✅ 完全控制，可以安装任何软件
- ✅ 适合我们的技术栈（Go + PostgreSQL）

**不要选择**：
- ❌ "使用应用模板"：会预装一些应用，不适合我们的需求
- ❌ "使用容器镜像"：需要Docker知识，增加复杂度
- ❌ "使用自定义镜像"：我们没有自定义镜像

---

### 步骤2：选择操作系统镜像 ✅

选择"基于操作系统镜像"后，会显示操作系统选择：

**推荐选择：Ubuntu 20.04 LTS 或 Ubuntu 22.04 LTS**

**原因**：
- ✅ 安装PostgreSQL简单（`apt install postgresql`）
- ✅ 文档丰富，问题容易解决
- ✅ 长期支持版本，稳定

**备选**：CentOS 7 或 CentOS 8（如果更熟悉）

---

### 步骤3：地域选择 ✅

**选择：中国**（已选中）

**具体地域**：选择与您最近的地域
- 北京（如果在北京）
- 上海（如果在华东）
- 广州（如果在华南）

**原因**：
- ✅ 延迟最低
- ✅ 访问速度快

---

### 步骤4：时长选择 ✅

**选择：1年**（已选中，8.5折）

**原因**：
- ✅ 有折扣（8.5折）
- ✅ 价格更优惠（¥357/年 ≈ ¥30/月）
- ✅ 比月付便宜

**如果预算充足**：可以选择2年或3年（折扣更多）

---

### 步骤5：台数 ✅

**选择：1台**（已选中）

**原因**：
- ✅ 初期1台足够
- ✅ 可以运行后端+数据库+Redis
- ✅ 后续可以扩容

---

### 步骤6：规格选择（重要！）

在页面下方应该还有规格选择，**选择最低配置**：

**推荐配置**：
- **CPU**：1核
- **内存**：1GB
- **系统盘**：40GB SSD
- **带宽**：3Mbps

**价格**：约¥24/月（月付）或¥288/年（年付）

**注意**：如果页面显示的是¥357/年，可能是更高配置，检查一下规格。

---

## ✅ 最终选择总结

### 您的选择应该是：

```
应用创建方式：基于操作系统镜像
操作系统：Ubuntu 20.04 LTS（或22.04）
地域：中国（选择最近的城市）
时长：1年（8.5折）
台数：1台
规格：1核1G/40GB SSD/3Mbps（最低配置）
```

### 预期价格

- **月付**：约¥24/月
- **年付**：约¥288/年（¥24/月）
- **如果显示¥357**：可能是更高配置，检查规格

---

## ⚠️ 注意事项

### 1. 检查规格配置

如果总价显示¥357/年，检查是否是：
- 2核2G配置（稍高）
- 或包含其他服务

**建议**：选择**最低配置**（1核1G），足够初期使用。

### 2. 不要选择应用模板

**不要选择**：
- ❌ BT.cn 宝塔面板
- ❌ WordPress
- ❌ Docker CE（除非您熟悉Docker）

**原因**：这些模板会预装软件，占用资源，我们不需要。

### 3. 域名解析（可选）

**"一键配置域名解析"**：可以暂时不选
- 初期不需要域名
- 后续可以添加

---

## 🚀 购买后下一步

### 1. 获取服务器信息

购买成功后，在控制台获取：
- 公网IP
- 内网IP（如果有多台服务器）
- root密码（或SSH密钥）

### 2. 连接服务器

```bash
ssh root@你的服务器IP
```

### 3. 安装PostgreSQL

```bash
# 更新包列表
sudo apt update

# 安装PostgreSQL
sudo apt install postgresql postgresql-contrib -y

# 启动服务
sudo systemctl start postgresql
sudo systemctl enable postgresql
```

### 4. 配置数据库

```bash
# 切换到postgres用户
sudo -u postgres psql

# 创建数据库和用户
CREATE DATABASE naibao;
CREATE USER naibao_user WITH PASSWORD 'your_password';
GRANT ALL PRIVILEGES ON DATABASE naibao TO naibao_user;
\q
```

### 5. 配置后端连接

修改 `backend/.env`：
```env
DB_HOST=你的服务器公网IP
DB_PORT=5432
DB_USER=naibao_user
DB_PASSWORD=your_password
DB_NAME=naibao
DB_SSLMODE=disable
```

---

## 📋 购买检查清单

购买前确认：
- [ ] ✅ 选择了"基于操作系统镜像"
- [ ] ✅ 选择了Ubuntu系统
- [ ] ✅ 选择了中国地域
- [ ] ✅ 选择了1年（有折扣）
- [ ] ✅ 选择了1台
- [ ] ✅ 选择了最低配置（1核1G）
- [ ] ✅ 价格合理（约¥288/年）

---

## 💡 如果价格显示¥357/年

如果总价是¥357/年，可能的原因：
1. 选择了更高配置（如2核2G）
2. 包含了其他服务

**建议**：
- 检查规格选择，改为最低配置
- 或确认是否是2核2G（如果预算允许，也可以接受）

---

**按照以上步骤选择，就可以买到最便宜的配置了！** 🎯

