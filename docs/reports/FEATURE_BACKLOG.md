# 功能对齐清单（计划 vs 现状）

> 目的：把 `docs/product/*` 与当前实现对齐，明确“必须补齐”的缺口，避免只修一部分就进入验收。
>
> 口径：以“手机端可用 + 交互不误导 + 运营可维护”为标准；超出该标准的长期迭代项标记为“可后置”。

## 已实现（可自检/可验收）

- 账号：注册/登录/JWT
- 宝宝：创建/编辑/删除；家庭协作（邀请码加入/成员管理/角色权限）
- 投喂：推荐算法 + 一键投喂 + 今日统计 + 倒计时；记录详情编辑/删除；保存后 3 秒撤销
- 数据：按月每日表格；体重/身高录入（按日期 upsert）；生长统计（增重/增高/日奶均量）
- 奶粉：品牌选择 + 当前奶粉；规格查询/系列选择；冲泡要求页；勺数提示（有规格数据时）
- 多端/多成员：最小 WebSocket 实时刷新（feeding/growth 变更）
- 运维：docker compose 一键启动；API 冒烟脚本；Playwright H5 E2E；H5/小程序构建通过

## 必须补齐（进入最终验收前必须完成）

- [x] 用户偏好记忆（`user_preferences`）：默认奶量/调整习惯/输入方式，提升“一键投喂”效率
- [x] 提醒功能口径一致：明确为“应用内提醒”（需保持应用打开），避免“系统提醒”误导
- [x] 体验一致性：加载态/空态/错误态统一；弱网/无数据时交互不空白
- [x] 误操作处理增强：异常值二次确认；关键实体（growth/baby/family/formula）操作日志补齐
- [x] 运营后台最小可用：管理员可在前端直接维护“卫健委标准版本/启用/导入JSON”和“奶粉规格验证/维护”

## 可后置（不阻塞验收，但有明确价值）

- 二维码分享（邀请码的辅助路径）
- PDF 报告导出（当前已支持 CSV；可用 H5 打印为 PDF 作为低成本替代）
- 会员/付费闭环（本地可先做“订阅状态/权限框架 + 管理员发放”，支付接入后置）
- 离线优先/冲突解决（复杂度高，需明确收益再做）
